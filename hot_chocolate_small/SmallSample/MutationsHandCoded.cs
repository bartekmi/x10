// Auto-generated by x10 - do not edit
using System;
using System.Collections.Generic;
using System.Linq;

using HotChocolate;
using HotChocolate.Types;

using x10.hotchoc.SmallSample.Entities;
using x10.hotchoc.SmallSample.Repositories;

namespace x10.hotchoc.SmallSample {
  [ExtendObjectType(Name = "Mutation")]
  public class MutationsHandCoded : Mutations {

    /// <summary>
    /// Update mutation for the MoveForm component
    /// </summary>
    public override Move MoveFormUpdateMove(
      MoveFormMove data,
      [Service] IRepository repository) {

      int? id = IdUtils.FromRelayId(data.Id);
      Move move;
      if (id == null) {
        move = new Move();
      } else
        move = repository.GetMove(id.Value);

      move.Tenant = new Tenant() { Id = data.Tenant.Id };
      move.From = new Building() { Id = data.From.Id };
      move.To = new Building() { Id = data.To.Id };
      move.Date = data.Date;

      move.SetNonOwnedAssociations(repository);
      repository.AddOrUpdateMove(id, move);
      return move;      
    }

    /// <summary>
    /// Update mutation for the BuildingForm component
    /// </summary>
    public override Building BuildingFormUpdateBuilding(
      BuildingFormBuilding data,
      [Service] IRepository repository) {
        throw new NotImplementedException("Manually override this method");
    }

    /// <summary>
    /// Update mutation for the TenantForm component
    /// </summary>
    public override Tenant TenantFormUpdateTenant(
      TenantFormTenant data,
      [Service] IRepository repository) {
        throw new NotImplementedException("Manually override this method");
    }
  }
}
