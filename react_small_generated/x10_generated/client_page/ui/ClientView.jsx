// This file was auto-generated by x10. Do not modify by hand.
// @flow

import * as React from 'react';
import { createFragmentContainer, graphql } from 'react-relay';

import Group from 'latitude/Group';
import Text from 'latitude/Text';

import EnumDisplay from 'react_lib/display/EnumDisplay';
import TextDisplay from 'react_lib/display/TextDisplay';
import DisplayField from 'react_lib/form/DisplayField';
import DisplayForm from 'react_lib/form/DisplayForm';
import Button from 'react_lib/latitude_wrappers/Button';
import MultiStacker from 'react_lib/multi/MultiStacker';
import Separator from 'react_lib/Separator';

import { ClientPrimaryShipmentRoleEnumPairs, ClientPurchasingBehaviorEnumPairs, ClientSegmentEnumPairs, ClientStatusEnumPairs, type Client } from 'client_page/entities/Client';
import { createDefaultCompanyEntity } from 'client_page/entities/CompanyEntity';
import { contactName } from 'client_page/entities/Contact';
import ClientViewCompanyEntity from 'client_page/ui/ClientViewCompanyEntity';

import { type ClientView_client } from './__generated__/ClientView_client.graphql';



type Props = {|
  +client: ClientView_client,
|};
function ClientView(props: Props): React.Node {
  const { client } = props;

  return (
    <DisplayForm>
      <Group
        justifyContent='space-between'
      >
        <TextDisplay
          weight='bold'
          value={ client?.company?.primaryEntity?.legalName }
        />
        <Button
          label='Edit'
        />
      </Group>
      <Separator/>
      <Group
        justifyContent='space-between'
      >
        <DisplayField
          label='Primary Contact'
        >
          <Group
            flexDirection='column'
            gap={ 0 }
          >
            <TextDisplay
              value={ contactName(client?.primaryContact) }
            />
            <TextDisplay
              value={ client?.primaryContact?.email }
            />
            <TextDisplay
              value={ client?.primaryContact?.phone }
            />
          </Group>
        </DisplayField>
        <DisplayField
          label='Saleforce Account Ref:'
        >
          <Group
            flexDirection='column'
            gap={ 0 }
          >
            <TextDisplay
              value={ client?.salesforceAccountRef }
            />
            <Button
              label='Force Outbound Salesforce Sync'
            />
          </Group>
        </DisplayField>
        <DisplayField
          label='Referred By'
        >
          <TextDisplay
            value={ client?.referredBy }
          />
        </DisplayField>
      </Group>
      <Group
        justifyContent='space-between'
      >
        <DisplayField
          label='Status'
        >
          <EnumDisplay
            value={ client?.status }
            options={ ClientStatusEnumPairs }
          />
        </DisplayField>
        <DisplayField
          label='Segment'
        >
          <EnumDisplay
            value={ client?.segment }
            options={ ClientSegmentEnumPairs }
          />
        </DisplayField>
        <DisplayField
          label='Purchasing Behavior'
        >
          <EnumDisplay
            value={ client?.purchasingBehavior }
            options={ ClientPurchasingBehaviorEnumPairs }
          />
        </DisplayField>
        <DisplayField
          label='Website'
        >
          <TextDisplay
            value={ client?.company?.website }
          />
        </DisplayField>
        <Group
          flexDirection='column'
          alignItems='flex-end'
        >
          <Button
            label='Solicit RFQ'
          />
          <Button
            label='Edit NSA Lanes'
          />
          <Button
            label='App Features'
          />
        </Group>
      </Group>
      <Group
        gap={ 80 }
      >
        <DisplayField
          label='Primary Shipment Role'
        >
          <EnumDisplay
            value={ client?.primaryShipmentRole }
            options={ ClientPrimaryShipmentRoleEnumPairs }
          />
        </DisplayField>
        <DisplayField
          toolTip='Count of invoiced shipments...'
          label='Shipment History'
        >
          <Group
            gap={ 28 }
          >
            <Group>
              <TextDisplay
                weight='bold'
                value={ client?.shipmentsAsClient }
              />
              <TextDisplay
                value='as Client'
              />
            </Group>
            <Group>
              <TextDisplay
                weight='bold'
                value={ client?.shipmentsAsShipper }
              />
              <TextDisplay
                value='as Shipper'
              />
            </Group>
            <Group>
              <TextDisplay
                weight='bold'
                value={ client?.shipmentsAsConsignee }
              />
              <TextDisplay
                value='as Consignee'
              />
            </Group>
          </Group>
        </DisplayField>
      </Group>
      <Separator/>
      <Text
        scale='title'
        children='COMPANY ENTITIES'
      />
      <MultiStacker
        items={ client?.company?.entities }
        itemDisplayFunc={ (data, onChange) => (
          <ClientViewCompanyEntity companyEntity={ data }/>
        ) }
        addItemLabel='Add Entity'
        addNewItem={ createDefaultCompanyEntity }
      />
    </DisplayForm>
  );
}

// $FlowExpectedError
export default createFragmentContainer(ClientView, {
  client: graphql`
    fragment ClientView_client on Client {
      id
      company {
        id
        entities {
          id
          ...ClientViewCompanyEntity_companyEntity
        }
        primaryEntity {
          id
          legalName
        }
        website
      }
      primaryContact {
        id
        email
        firstName
        lastName
        phone
      }
      primaryShipmentRole
      purchasingBehavior
      referredBy
      salesforceAccountRef
      segment
      shipmentsAsClient
      shipmentsAsConsignee
      shipmentsAsShipper
      status
    }
  `,
});

