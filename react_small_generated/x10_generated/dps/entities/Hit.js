// This file was auto-generated by x10. Do not modify by hand.
// @flow


import { v4 as uuid } from 'uuid';

import { addError, type FormError } from 'react_lib/form/FormProvider';
import isBlank from 'react_lib/utils/isBlank';

import { type Attachment } from 'dps/entities/Attachment';
import { type MatchInfo } from 'dps/entities/MatchInfo';
import { type Message } from 'dps/entities/Message';
import { type Shipment } from 'dps/entities/Shipment';
import { type SuggestedResource } from 'dps/entities/SuggestedResource';


// Type Definition
export type Hit = {
  +id: string,
  +priority: ?PriorityEnum,
  +status: ?HitStatusEnum,
  +reasonForClear: string,
  +whiteListUntil: ?string,
  +notes: string,
  +resolutionTimestamp: ?string,
  +whitelistedFor: ?number,
  +clearedBy: ?{ id: string },
  +user: ?{ id: string },
  +companyEntity: ?{ id: string },
  +attachments: $ReadOnlyArray<Attachment>,
  +matches: $ReadOnlyArray<MatchInfo>,
  +resources: $ReadOnlyArray<SuggestedResource>,
  +shipments: $ReadOnlyArray<Shipment>,
  +messages: $ReadOnlyArray<Message>,
};


// Enums
export const PriorityEnumPairs = [
  {
    value: 'LOW',
    label: 'Low',
  },
  {
    value: 'MIDDLE',
    label: 'Middle',
  },
  {
    value: 'HIGH',
    label: 'High',
  },
];

export type PriorityEnum = 'LOW' | 'MIDDLE' | 'HIGH';

export const HitStatusEnumPairs = [
  {
    value: 'UNRESOLVED',
    label: 'Unresolved',
  },
  {
    value: 'CLEARED',
    label: 'Cleared',
  },
  {
    value: 'DENIED',
    label: 'Denied',
  },
];

export type HitStatusEnum = 'UNRESOLVED' | 'CLEARED' | 'DENIED';



// Create Default Function
export function createDefaultHit(): Hit {
  return {
    id: uuid(),
    priority: null,
    status: null,
    reasonForClear: '',
    whiteListUntil: null,
    notes: '',
    resolutionTimestamp: null,
    whitelistedFor: null,
    clearedBy: null,
    user: null,
    companyEntity: null,
    attachments: [],
    matches: [],
    resources: [],
    shipments: [],
    messages: [],
  };
}


// Validations
export function hitCalculateErrors(hit: Hit, prefix?: string): $ReadOnlyArray<FormError> {
  const errors = [];
  if (hit == null ) return errors;

  if (isBlank(hit.companyEntity))
    addError(errors, prefix, 'Company Entity is required', ['companyEntity']);

  return errors;
}

