name: Address
description: A physical or mailing address

attributes:
  - name: unitNumber
    dataType: String

  - name: theAddress
    dataType: String
    mandatory: true

  - name: city
    dataType: String
    mandatory: true

  - name: stateOrProvince
    dataType: String
    mandatory: true

  - name: zip
    dataType: String
    label: Zip or Postal Code
    mandatory: true

derivedAttributes:
  - name: firstAddressLine
    dataType: String
# TODO
#    formula: '=isEmpty(unitNumber) ? address : address + "   Unit " + unitNumber'
    formula: '=theAddress + "   Unit " + unitNumber'
  - name: secondAddressLine
    dataType: String
    formula: =city + ', ' + stateOrProvince
  - name: thirdAddressLine
    dataType: String
    formula: =zip
      