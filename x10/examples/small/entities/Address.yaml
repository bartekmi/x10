name: Address
inheritsFrom: Base
description: A physical or mailing address

attributes:
  - name: unitNumber
    dataType: String
    maxWidth: 120

  - name: theAddress
    dataType: String
    mandatory: true

  - name: city
    dataType: String
    mandatory: true
    maxWidth: 400

  - name: stateOrProvince
    dataType: String
    mandatory: true
    maxWidth: 250

  - name: zip
    dataType: String
    label: Zip or Postal Code
    mandatory: true
    maxWidth: 150

derivedAttributes:
  - name: firstAddressLine
    dataType: String
# TODO
#    formula: '=isEmpty(unitNumber) ? address : address + "   Unit " + unitNumber'
    formula: '=theAddress + "   Unit " + unitNumber'
  - name: secondAddressLine
    dataType: String
    formula: =city + ', ' + stateOrProvince
  - name: thirdAddressLine
    dataType: String
    formula: =zip
      